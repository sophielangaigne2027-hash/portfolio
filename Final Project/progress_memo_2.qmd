---
title: "Shopping Dataset for Marketing Purposes"
subtitle: |
  | Shopping Dataset for Marketing 
  | Data Science 1 with R (STAT 301-1)
author: "Sophie Langaigne"
pagetitle: "Shopping Dataset for Marketing Purposes by Sophie Langaigne"
date: "2025-12-10"

format:
  html:
    toc: true
    toc-depth: 4
    toc-location: left
    embed-resources: true
    link-external-newwindow: true
    code-fold: true
    echo: false

execute:
  warning: false
from: markdown+emoji
reference-location: margin
citation-location: margin
---

::: {.callout-tip icon=false}
## Github Repo Link
[Final Project Link](https://github.com/stat301-1-2025-fall/final-project-1-sophielangaigne2027-hash.git)
:::
```{r}
#| label: data-loading
#Load packages 
library(tidyverse)
library(dplyr)
library(readr)
library(naniar)
library(knitr)

#Read CSV file
shopping_dataset <- read.csv("data/raw/shopping_behavior_updated.csv")

dir.create("plots", showWarnings = FALSE)
```


# Introduction

#### Purpose

I have chosen the Shopping Behavior Dataset from Kaggle because it offers a multifaceted view of individual consumer transactions, demographics, product details, frequency and promos. This dataset is perfect for marketing analytics which is something I'm very passionate about exploring. Understanding how certain factors can affect consumer behaviour. In addition, I'm currently working on a different dataset for my marketing classes and I wanted to combine my interests.

#### Rationale for Dataset Selection
I have chosen the Shopping Behavior Dataset from Kaggle because it offers a multifaceted view of individual consumer transactions, demographics, product details, frequency, and promotions. This dataset is ideal for marketing analytics, which is an area I am passionate about exploring since I am also in the Integrated Marketing Certificate Program. Understanding how certain factors affect consumer behavior is valuable for both academic and practical applications. Additionally, I am currently working on a different dataset for my marketing classes, and I wanted to integrate my interests across both projects.

#### Data Quality and Complexity Assessment
Dataset Dimensions: 3,900 observations and 18 variables

Categorical Variables (11): Customer ID, Payment Method, Promo Code Used,
Discount Applied, Shipping Type, Subscription Status, Season, Color, Size,
Location, and Category

Numeric Variables (4): Age, Previous Purchases, Purchase Amount (USD), and
Review Rating


#### Data Completeness Chart
```{r}
#| label: fig-completeness
shopping_dataset_clean <- shopping_dataset %>%
  mutate(
    across(where(is.numeric), ~ ifelse(is.na(.x), median(.x, na.rm = TRUE), .x)),
    across(where(is.character), ~ ifelse(is.na(.x), "Unknown", .x))
  )

missing_summary <- data.frame(
  Status = c("Complete", "Missing"),
  Count = c(sum(complete.cases(shopping_dataset)), 
            sum(!complete.cases(shopping_dataset)))
)

p1 <- ggplot(missing_summary, aes(x = Status, y = Count, fill = Status)) +
  geom_col() +
  scale_fill_manual(values = c("Complete" = "steelblue", "Missing" = "coral")) +
  labs(
    title = "Data Completeness Chart",
    x = NULL,
    y = "Number of Rows"
  ) +
  theme_minimal() +
  theme(legend.position = "none")

p1
ggsave("plots/data.completeness.chart.png", p1, width = 6, height = 4, dpi = 300)

```
#### Potential Missingness
Some categorical nulls like Promo Code Used and Discount Applied may represent implicit “No”/"NA" values rather than true missing data. However based on my missingness test, this dataset does not require a lot of tidying because there is no missingness. In addition, high dollar amounts could not register in the dataset since there might be data entry limits with the website, there could be skewness in the data but within my EDA I will explore this further. Upon further research in @fig-completeness, this graph shows that this dataset is considered complete with no missing values. 


#### Data Quality Notes 
This dataset is considered substantially complete despite
the presence of "No" values in the promo code variable. These missing values
can be appropriately handled through standard data cleaning techniques. The
variables demonstrate sufficient complexity and diversity for robust data
analysis. The dataset contains numerous unique values across categorical
variables, and some variables may require string manipulation or reference
during analysis. Overall, the dataset is well-suited for exploring
relationships between consumer demographics, purchasing behavior, and product
preferences, making it an excellent choice for applied marketing analytics.



# EDA 

### Univariate Analysis on Purchase Amount
```{r}
#| label: fig-dis-purchases

p2 <- ggplot(shopping_dataset_clean, aes(x = Purchase.Amount..USD.)) +
  geom_histogram(bins = 30, fill = "red", alpha = 0.7) +
  theme_minimal() +
  labs(
    title = "Distribution of Purchase Amount",
    x = "Purchase Amount (USD)",
    y = "Count"
  )
  
p2


ggsave("plots/distribution.purchase.amount.png", p2, width = 6, height = 4, dpi = 300)

```
#### Insights on the Distribution by Purchases 
@fig-dis-purchases displays the distribution of purchase amounts is fairly uniform, with customers making purchases across the full price range rather than clustering around specific dollar amounts. This suggests the store sells a balanced mix of products at different price points, with no strong tendency toward either low-cost or high-cost purchases that may skew data. 

### BoxPlot of Purchase Amount
```{r}
#| label: fig-boxplot-purchases

p3 <- ggplot(shopping_dataset_clean, aes(y = Purchase.Amount..USD.)) +
  geom_boxplot(fill = "red") +
  theme_minimal() +
  labs(
    title = "Boxplot of Purchase Amount",
    y = "Purchase Amount (USD)"
  )

p3
ggsave("plots/boxplot.purchase.amount.png", p3, width = 6, height = 4, dpi = 300)
```
#### Insight on the Distribution by Purchases (Boxplot)
In @fig-boxplot-purchases, data shows that the majority of purchases range from 10 to 100 dollars, 50% of those purchases ranging from 40 to 80 dollars. 


### Univariate Variate Analysis on Frequency of Items Bought
```{r}
#| label: fig-uni-frequency-items

p4 <- shopping_dataset_clean %>%
  count(Item.Purchased) %>%
  ggplot(aes(x = reorder(Item.Purchased, n), y = n)) +
  geom_col(fill = "steelblue", alpha = 0.8) +
  coord_flip() +
  theme_minimal() +
  labs(
    title = "Frequency of Items Purchased",
    x = "Item Purchased",
    y = "Count"
  )
p4
ggsave("plots/frequency.items.purchased.png", p4, width = 6, height = 4, dpi = 300)
```
#### Insights on the Distribution of Frequency of Items Purchased
Looking at the clothing purchase frequency graph, @fig-uni-frequency-items displays several ideas that stood out to me. Pants, jewelry, and blouses were the most items purchases with around 180-185 each, suggesting these are popular items. The data shows three distinct tiers of popularity, with the top tier items (Pants through Sweater) seeing 170-185 purchases, a middle tier (Jacket through Scarf) ranging from 150-165 purchases, and a lower tier (Hat through Jeans) falling between 125-145 purchases. Accessories were very popular overall with jewelry ranking second and sunglasses, belts, and sandals appearing in the upper-middle range. Footwear categories are distributed throughout the chart suggesting seasonal influences. Jeans ranked last despite being a wardrobe staple, which could reflect market saturation or higher price points that limit repeat purchases. There were no significant outliers that could be important to note.


### Age Univariate Analysis on the Distribution of Customer Age
```{r}
#| label: fig-uni-distribution-age
p5 <- ggplot(shopping_dataset_clean, aes(x = Age)) +
  geom_histogram(bins = 20, fill = "steelblue", alpha = 0.8) +
  theme_minimal() +
  labs(
    title = "Distribution of Customer Age",
    x = "Age",
    y = "Count"
  )

p5
ggsave("plots/distribution.customer.age.png", p5, width = 6, height = 4, dpi = 300)
```
#### Insights on the Distribution of Customer Age
@fig-uni-distribution-age reveals that customers from age 18 to 73 are shopping consistently and most age groups have about 200 customers. Some dipping lower and some rising higher. The main age ranges are late 20s to mid 30s and mid to late 50s.  Overall, the relatively flat distribution across such a wide age range suggests that shopping is consistent and has a wide range of appeal. Further research would help identify precise marketing, pricing, and product recommendations.
